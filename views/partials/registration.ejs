<h1>Register</h1>
    <form id="registrationForm" method="post">
        <label for="event">Event:</label>
        <select id="event" name="event">
            <% events.forEach(function(event) { %>
                <option value="<%= event.name %>"><%= event.name %></option>
            <% }); %>
        </select>

        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>

        <button type="submit">Register</button>
    </form>
    <%  const formData = new FormData(this);
    const data = {
        eventName: formData.get('event'),
        attendee: {
            name: formData.get('name'),
            email: formData.get('email')
        }
    };

    fetch('/events', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
        if (result.success) {
            alert('Registration successful!');
            // Optionally, clear the form or update the UI
        } else {
            alert('Registration failed: ' + result.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Registration failed.');
    });
}); %>